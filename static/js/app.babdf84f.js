(function(){"use strict";var e={652:function(e,a,t){var n=t(5130),c=t(6768);const o={id:"app"},l={class:"main-content"};function s(e,a,t,n,s,i){const r=(0,c.g2)("Header"),d=(0,c.g2)("router-view");return(0,c.uX)(),(0,c.CE)("div",o,[(0,c.bF)(r),(0,c.Lk)("main",l,[(0,c.bF)(d)])])}const i={class:"header"},r={key:0,class:"logo"},d={key:1,class:"logo-placeholder"};function u(e,a,t,n,o,l){return(0,c.uX)(),(0,c.CE)("header",i,["/"!==e.$route.path?((0,c.uX)(),(0,c.CE)("div",r," nofelet ")):((0,c.uX)(),(0,c.CE)("div",d))])}var v={name:"Header"},p=t(1241);const m=(0,p.A)(v,[["render",u],["__scopeId","data-v-44094c99"]]);var g=m,f={name:"App",components:{Header:g}};const y=(0,p.A)(f,[["render",s]]);var k=y,C=t(8512);const h={class:"home"},b={class:"logo-section"},w={class:"call-types-section",ref:"callTypesSection"},S={class:"call-type-block p2p-block"};function L(e,a,t,n,o,l){return(0,c.uX)(),(0,c.CE)("div",h,[(0,c.Lk)("div",b,[a[3]||(a[3]=(0,c.Lk)("div",{class:"center-logo"}," nofelet ",-1)),(0,c.Lk)("div",{class:"scroll-indicator",onClick:a[0]||(a[0]=(...e)=>l.scrollToCallTypes&&l.scrollToCallTypes(...e))},[...a[2]||(a[2]=[(0,c.Lk)("div",{class:"arrow"},null,-1)])])]),(0,c.Lk)("div",w,[(0,c.Lk)("div",S,[a[4]||(a[4]=(0,c.Lk)("h2",{class:"call-type-title"},"P2P",-1)),a[5]||(a[5]=(0,c.Lk)("p",{class:"call-type-description"}," person to person ‚Ä¢ –≤ –∑–≤–æ–Ω–∫–µ —É—á–∞—Å—Ç–≤—É—é—Ç –Ω–µ –±–æ–ª–µ–µ –¥–≤—É—Ö —á–µ–ª–æ–≤–µ–∫ ",-1)),a[6]||(a[6]=(0,c.Lk)("div",{class:"beta-badge"},"beta",-1)),(0,c.Lk)("button",{class:"start-btn",onClick:a[1]||(a[1]=(...e)=>l.startP2PCall&&l.startP2PCall(...e))}," start ")]),a[7]||(a[7]=(0,c.Fv)('<div class="call-type-block conference-block disabled" data-v-0e1d1f43><h2 class="call-type-title" data-v-0e1d1f43>Conference</h2><p class="call-type-description" data-v-0e1d1f43> –∑–≤–æ–Ω–æ–∫ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è<br data-v-0e1d1f43> –≤ –∑–≤–æ–Ω–∫–µ —É—á–∞—Å—Ç–≤—É—é—Ç –±–æ–ª–µ–µ 2 —á–µ–ª–æ–≤–µ–∫ </p><div class="progress-badge" data-v-0e1d1f43>in progress</div><button class="start-btn disabled" disabled data-v-0e1d1f43> start </button></div>',1))],512)])}t(4114);var $={name:"Home",methods:{scrollToCallTypes(){this.$refs.callTypesSection.scrollIntoView({behavior:"smooth"})},startP2PCall(){this.$router.push("/call")}}};const R=(0,p.A)($,[["render",L],["__scopeId","data-v-0e1d1f43"]]);var E=R,O=(t(8111),t(7588),t(4603),t(7566),t(8721),t(4232)),T=t(144);const I={class:"call-container"},P={class:"controls-group"},A=["disabled"],D=["disabled"],U=["disabled"],j=["disabled"],N=["disabled"],x={class:"video-container"},K={class:"video-box"},_={class:"video-box"},W={class:"debug-panel"},V={class:"debug-section"},J={key:0,class:"messages"},M={class:"call-link"},q=["href"],F={class:"debug-section"},X={key:0,class:"manual-fallback"};var H={__name:"Call",setup(e){const a=(0,T.KR)(null),t=((0,C.lq)(),(0,c.EW)(()=>{const e=new URLSearchParams(window.location.search),a=e.get("uuid");return a||crypto.randomUUID()})),o=(0,T.KR)(!1),l=(0,T.KR)(!1),s=(0,T.KR)(!1),i=(0,T.KR)("Disconnected"),r=(0,T.KR)("disconnected"),d=(0,T.KR)([]),u=(0,T.KR)(!1),v=(0,T.KR)(!1),p=(0,T.KR)(null),m=(0,T.KR)(null),g=(0,T.KR)(""),f=(0,T.KR)("");let y=null,k=null,h=null,b=null,w=[],S=null;const L=(0,c.EW)(()=>`https://maximtretjakov.github.io/nofelet-ui/call/?uuid=${t.value}`),$=(0,c.EW)(()=>d.value.slice(-20)),R={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443?transport=tcp",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:turn.anyfirewall.com:443?transport=tcp",username:"webrtc",credential:"webrtc"}],iceCandidatePoolSize:10,iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"};function E(e,a){const t=(new Date).toLocaleTimeString(),n={type:e,text:`[${t}] ${a}`};d.value.push(n),d.value.length>100&&d.value.shift()}function H(e,a){i.value=e,r.value=a,E("status",e)}function Q(){u.value=!u.value}function z(){v.value=!v.value}function Y(){y&&E("state",`ICE: ${y.iceConnectionState}, Signaling: ${y.signalingState}, Connection: ${y.connectionState}`)}function B(){S&&(clearTimeout(S),S=null)}function G(){navigator.clipboard.writeText(L.value).then(()=>{E("system","Call link copied to clipboard!")}).catch(e=>{E("error","Failed to copy call link: "+e)})}function Z(){try{const e=`wss://nofelet.duckdns.org:8443/connect/${t.value}`;E("system",`Connecting to signaling server: ${e}`),E("system",`Call link: ${L.value}`);const n=new URLSearchParams(window.location.search),c=n.get("uuid");E("system",`Using UUID: ${t.value} ${c?"(from invitation link)":"(newly generated)"}`),a.value=new WebSocket(e),a.value.onopen=()=>{o.value=!0,H("Connected to signaling server ‚úÖ","connected"),E("system","WebSocket connection established")},a.value.onmessage=async e=>{try{const a=JSON.parse(e.data);E("signaling",`Received: ${a.type}`),"offer"===a.type?(b=a,s.value=!0,g.value=JSON.stringify(a),H("Incoming call... Click Accept","waiting"),E("system","Offer received from caller - ready to accept call")):"answer"===a.type?(E("system","Answer received from callee, processing..."),B(),await ne(a)):"ice-candidate"===a.type&&(E("ice","Received ICE candidate from peer"),await oe(a.candidate))}catch(a){E("error",`Message parsing error: ${a.message}`)}},a.value.onerror=e=>{H("Signaling error ‚ùå","disconnected"),E("error",`WebSocket error: ${e}`)},a.value.onclose=()=>{o.value=!1,s.value=!1,l.value=!1,H("Disconnected from signaling server","disconnected"),E("system","WebSocket connection closed")}}catch(e){E("error",`Connection failed: ${e.message}`)}}function ee(){a.value&&(a.value.close(),a.value=null),le()}async function ae(){if(a.value&&a.value.readyState===WebSocket.OPEN)try{E("system","Starting call as caller..."),l.value=!0,s.value=!1,w=[],B(),k=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},frameRate:{ideal:30}},audio:{echoCancellation:!0,noiseSuppression:!0}}),p.value.srcObject=k,E("system","Local media stream acquired"),y=new RTCPeerConnection(R),E("system","PeerConnection created with TURN servers"),Y(),h=new MediaStream,m.value.srcObject=h,k.getTracks().forEach(e=>{y.addTrack(e,k),E("system",`Added local ${e.kind} track`)}),y.ontrack=e=>{E("system",`Remote track received: ${e.track.kind}`),e.streams&&e.streams[0]?(m.value.srcObject=e.streams[0],E("system",`Set remote ${e.track.kind} stream`)):(h.addTrack(e.track),E("system",`Added ${e.track.kind} track to remote stream`))},y.onicecandidate=e=>{if(e.candidate){const t=e.candidate;E("ice",`ICE candidate: ${t.type} ${t.protocol} ${t.address}:${t.port}`),a.value&&a.value.readyState===WebSocket.OPEN&&a.value.send(JSON.stringify({type:"ice-candidate",candidate:e.candidate}))}else E("ice","All ICE candidates generated")},y.onconnectionstatechange=()=>{const e=y.connectionState;E("connection",`Connection state: ${e}`),Y(),"connected"===e?(H("Call connected! ‚úÖ","connected"),B()):"disconnected"===e||"failed"===e?(H(`Call ${e} ‚ùå`,"disconnected"),l.value=!1):"connecting"===e&&H("Connecting... üîÑ","waiting")},y.oniceconnectionstatechange=()=>{const e=y.iceConnectionState;E("ice",`ICE connection state: ${e}`),Y()},y.onsignalingstatechange=()=>{const e=y.signalingState;E("signaling",`Signaling state: ${e}`),Y()};const e=await y.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0,iceRestart:!1});if(E("system","Offer created"),await y.setLocalDescription(e),E("system","Local description set"),Y(),!a.value||a.value.readyState!==WebSocket.OPEN)return void E("error","WebSocket not connected, cannot send offer");a.value.send(JSON.stringify({type:"offer",sdp:e.sdp})),E("system","Offer sent to signaling server"),E("system","Waiting for answer from callee..."),H("Waiting for answer... ‚è≥","waiting"),S=setTimeout(()=>{y&&"have-local-offer"===y.signalingState&&(E("warning","No answer received after 30 seconds"),E("system","You can manually paste the answer SDP above"))},3e4)}catch(e){E("error",`Failed to start call: ${e.message}`),H("Call failed","disconnected"),l.value=!1,B()}else alert("First connect to signaling server!")}async function te(){if(!b){const a=g.value.trim();if(!a)return void alert("No offer received yet! Check signaling connection or paste offer manually.");try{b=JSON.parse(a),E("system","Using manual offer from textarea")}catch(e){return void alert("Invalid offer format in textarea")}}try{if(E("system","Accepting call as callee..."),l.value=!0,w=[],k=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},frameRate:{ideal:30}},audio:{echoCancellation:!0,noiseSuppression:!0}}),p.value.srcObject=k,E("system","Local media stream acquired"),y=new RTCPeerConnection(R),E("system","PeerConnection created with TURN servers"),Y(),h=new MediaStream,m.value.srcObject=h,k.getTracks().forEach(e=>{y.addTrack(e,k),E("system",`Added local ${e.kind} track`)}),y.ontrack=e=>{E("system",`Remote track received: ${e.track.kind}`),e.streams&&e.streams[0]?(m.value.srcObject=e.streams[0],E("system",`Set remote ${e.track.kind} stream`)):(h.addTrack(e.track),E("system",`Added ${e.track.kind} track to remote stream`))},y.onicecandidate=e=>{if(e.candidate){const t=e.candidate;E("ice",`ICE candidate: ${t.type} ${t.protocol} ${t.address}:${t.port}`),a.value&&a.value.readyState===WebSocket.OPEN&&a.value.send(JSON.stringify({type:"ice-candidate",candidate:e.candidate}))}else E("ice","All ICE candidates generated")},y.onconnectionstatechange=()=>{const e=y.connectionState;E("connection",`Connection state: ${e}`),Y(),"connected"===e?H("Call connected! ‚úÖ","connected"):"disconnected"===e||"failed"===e?(H(`Call ${e} ‚ùå`,"disconnected"),l.value=!1):"connecting"===e&&H("Connecting... üîÑ","waiting")},E("system","Setting remote description (offer)..."),await y.setRemoteDescription(b),E("system","Remote description set"),Y(),w.length>0){E("system",`Processing ${w.length} queued ICE candidates`);for(const e of w)try{await y.addIceCandidate(e),E("ice","Added queued ICE candidate")}catch(t){E("error",`Error adding queued candidate: ${t.message}`)}w=[]}const e=await y.createAnswer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});E("system","Answer created"),await y.setLocalDescription(e),E("system","Local description set"),Y(),a.value&&a.value.readyState===WebSocket.OPEN?(a.value.send(JSON.stringify({type:"answer",sdp:e.sdp})),E("system","Answer sent to signaling server"),f.value=JSON.stringify(e)):(E("warning","WebSocket not connected - answer not sent via signaling"),E("system","Copy this answer and send it to caller manually:"),f.value=JSON.stringify(e)),H("Call accepted! ‚úÖ","connected"),s.value=!1}catch(n){E("error",`Failed to accept call: ${n.message}`),H("Call failed","disconnected"),l.value=!1,s.value=!1}}async function ne(e){if(y)try{if(E("system","Setting remote description (answer)..."),await y.setRemoteDescription(e),E("system","Remote description set successfully"),Y(),w.length>0){E("system",`Processing ${w.length} queued ICE candidates`);for(const e of w)try{await y.addIceCandidate(e),E("ice","Added queued ICE candidate")}catch(a){E("error",`Error adding queued candidate: ${a.message}`)}w=[]}f.value=JSON.stringify(e)}catch(t){E("error",`Error setting answer: ${t.message}`)}else E("error","No PeerConnection when receiving answer")}async function ce(){const e=f.value;if(e)try{const a=JSON.parse(e);E("system","Setting manual answer..."),await ne(a)}catch(a){E("error",`Invalid answer format: ${a.message}`)}else alert("Paste answer SDP first!")}async function oe(e){if(!y)return E("error","No PeerConnection for ICE candidate - queuing"),void w.push(e);try{y.remoteDescription?(await y.addIceCandidate(e),E("ice","Added ICE candidate from peer")):(w.push(e),E("ice",`Queued ICE candidate (${w.length} pending)`))}catch(a){E("error",`Error adding ICE candidate: ${a.message}`)}}function le(){E("system","Hanging up..."),y&&(y.close(),y=null),k&&(k.getTracks().forEach(e=>e.stop()),k=null),h&&(h.getTracks().forEach(e=>e.stop()),h=null),p.value.srcObject=null,m.value.srcObject=null,l.value=!1,s.value=!1,b=null,w=[],B(),H("Call ended","disconnected"),E("system","Call ended")}return(0,c.sV)(()=>{E("system",`Component mounted ‚Üí UUID: ${t.value}`),E("system",`Call link: ${L.value}`);const e=new URLSearchParams(window.location.search),a=e.get("uuid");E("system","UUID source: "+(a?"from invitation link":"newly generated"))}),(0,c.xo)(()=>{ee(),E("system","Component unmounted")}),(e,a)=>((0,c.uX)(),(0,c.CE)("div",I,[a[5]||(a[5]=(0,c.Lk)("h1",null,"WebRTC Video Call",-1)),(0,c.Lk)("div",{class:(0,O.C4)(["status",r.value])},(0,O.v_)(i.value),3),(0,c.Lk)("div",P,[(0,c.Lk)("button",{onClick:Z,disabled:o.value},"Connect",8,A),(0,c.Lk)("button",{onClick:ae,disabled:!o.value||l.value},"Start Call",8,D),(0,c.Lk)("button",{onClick:te,disabled:!o.value||!s.value||l.value,class:"accept-btn"}," Accept Call ",8,U),(0,c.Lk)("button",{onClick:le,disabled:!l.value,class:"hangup-btn"},"Hang Up",8,j),(0,c.Lk)("button",{onClick:ee,disabled:!o.value},"Disconnect",8,N)]),(0,c.Lk)("div",x,[(0,c.Lk)("div",K,[a[2]||(a[2]=(0,c.Lk)("h3",null,"Local Video",-1)),(0,c.Lk)("video",{ref_key:"localVideo",ref:p,autoplay:"",muted:"",playsinline:""},null,512)]),(0,c.Lk)("div",_,[a[3]||(a[3]=(0,c.Lk)("h3",null,"Remote Video",-1)),(0,c.Lk)("video",{ref_key:"remoteVideo",ref:m,autoplay:"",playsinline:""},null,512)])]),(0,c.Lk)("div",W,[(0,c.Lk)("div",V,[(0,c.Lk)("h4",{onClick:Q},"Signaling Messages ‚ñº"),u.value?((0,c.uX)(),(0,c.CE)("div",J,[(0,c.Lk)("div",M,[a[4]||(a[4]=(0,c.Lk)("strong",null,"Call Link:",-1)),(0,c.Lk)("a",{href:L.value,target:"_blank"},(0,O.v_)(L.value),9,q),(0,c.Lk)("button",{onClick:G,class:"small-btn copy-btn"},"Copy")]),((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)($.value,(e,a)=>((0,c.uX)(),(0,c.CE)("div",{key:a,class:(0,O.C4)(e.type)},(0,O.v_)(e.text),3))),128))])):(0,c.Q3)("",!0)]),(0,c.Lk)("div",F,[(0,c.Lk)("h4",{onClick:z},"Manual SDP ‚ñº"),v.value?((0,c.uX)(),(0,c.CE)("div",X,[(0,c.Lk)("div",null,[(0,c.bo)((0,c.Lk)("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>g.value=e),placeholder:"Offer SDP...",class:"compact-textarea"},null,512),[[n.Jo,g.value]]),(0,c.Lk)("button",{onClick:te,class:"small-btn"},"Use Offer")]),(0,c.Lk)("div",null,[(0,c.bo)((0,c.Lk)("textarea",{"onUpdate:modelValue":a[1]||(a[1]=e=>f.value=e),placeholder:"Answer SDP...",class:"compact-textarea"},null,512),[[n.Jo,f.value]]),(0,c.Lk)("button",{onClick:ce,class:"small-btn"},"Use Answer")])])):(0,c.Q3)("",!0)])])]))}};const Q=(0,p.A)(H,[["__scopeId","data-v-172f4b75"]]);var z=Q;t(2489);const Y={class:"call-container"},B={class:"buttons"},G=["disabled"],Z=["disabled"],ee={class:"video-container"},ae={class:"video-box"},te={class:"video-box"},ne={class:"messages"},ce={class:"log-window"};var oe={__name:"CallReceiver",setup(e){const a=(0,T.KR)(null),t=crypto.randomUUID(),n=(0,T.KR)(!1),o=(0,T.KR)(!1),l=(0,T.KR)(!1),s=(0,T.KR)("Disconnected"),i=(0,T.KR)("disconnected"),r=(0,T.KR)([]),d=(0,T.KR)(null),u=(0,T.KR)(null);let v=null,p=null,m=null,g=null,f=[];const y={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443?transport=tcp",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:turn.anyfirewall.com:443?transport=tcp",username:"webrtc",credential:"webrtc"}],iceCandidatePoolSize:10,iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"};function k(e){const a=(new Date).toLocaleTimeString(),t=`[${a}] ${e}`;console.log("%c[WebRTC Receiver]","color:#28a745",e),r.value.push(t),r.value.length>500&&r.value.shift()}function C(e,a){s.value=e,i.value=a,k(`STATUS ‚Üí ${e}`)}function h(){const e=`ws://localhost:8080/connect/${t}`;k(`Connecting to signaling server: ${e}`),a.value=new WebSocket(e),a.value.onopen=()=>{n.value=!0,C("Connected to signaling server ‚úÖ","connected")},a.value.onmessage=async e=>{const a=JSON.parse(e.data);k(`Received: ${a.type}`),"offer"===a.type?(g=a,l.value=!0,C("Incoming call... üìû","waiting")):"ice-candidate"===a.type&&await w(a.candidate)},a.value.onclose=()=>{n.value=!1,C("Disconnected from signaling server","disconnected")},a.value.onerror=e=>{C("Signaling error ‚ùå","disconnected"),k(`WebSocket error: ${e.message}`)}}async function b(){if(g)try{k("Accepting call..."),o.value=!0,f=[];const n=await navigator.mediaDevices.enumerateDevices(),c=n.filter(e=>"videoinput"===e.kind),s=n.filter(e=>"audioinput"===e.kind);k(`Detected devices: ${c.length} cameras, ${s.length} microphones`);try{p=await navigator.mediaDevices.getUserMedia({video:!!c.length&&{width:{ideal:640},height:{ideal:480}},audio:!!s.length&&{echoCancellation:!0,noiseSuppression:!0}}),k("Local media stream acquired")}catch(e){k(`Primary getUserMedia failed (${e.name}): ${e.message}`);try{p=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0}),k("Fallback media stream acquired (basic config)")}catch(t){throw k(`Fallback getUserMedia failed (${t.name}): ${t.message}`),C("Media access failed ‚ùå","disconnected"),o.value=!1,t}}if(d.value.srcObject=p,v=new RTCPeerConnection(y),m=new MediaStream,u.value.srcObject=m,p.getTracks().forEach(e=>{v.addTrack(e,p),k(`Added local ${e.kind} track`)}),v.ontrack=e=>{k(`Remote track received: ${e.track.kind}`),e.streams&&e.streams[0]?u.value.srcObject=e.streams[0]:m.addTrack(e.track)},v.onicecandidate=e=>{e.candidate?(k(`ICE candidate: ${e.candidate.protocol}`),a.value.send(JSON.stringify({type:"ice-candidate",candidate:e.candidate}))):k("All ICE candidates sent")},v.onconnectionstatechange=()=>{k(`Connection state: ${v.connectionState}`),"connected"===v.connectionState?C("Call connected ‚úÖ","connected"):["failed","disconnected","closed"].includes(v.connectionState)&&(C(`Call ended (${v.connectionState})`,"disconnected"),o.value=!1)},k("Setting remote description (offer)..."),await v.setRemoteDescription(g),k("Remote description set"),f.length>0){k(`Processing ${f.length} queued ICE candidates`);for(const e of f)await v.addIceCandidate(e);f=[]}const i=await v.createAnswer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});await v.setLocalDescription(i),a.value.send(JSON.stringify({type:"answer",sdp:i.sdp})),k("Answer sent to caller"),C("Call accepted ‚úÖ","connected"),l.value=!1}catch(e){k(`Failed to accept call: ${e.message}`),C("Call failed ‚ùå","disconnected"),o.value=!1}else alert("No offer received yet!")}async function w(e){if(v)try{v.remoteDescription?(await v.addIceCandidate(e),k("Added ICE candidate")):(f.push(e),k("Queued ICE candidate (remote not ready)"))}catch(a){k(`ICE candidate error: ${a.message}`)}else k("No PeerConnection for ICE candidate")}function S(){k("Hanging up..."),v&&v.close(),v=null,p&&(p.getTracks().forEach(e=>e.stop()),p=null),m&&(m.getTracks().forEach(e=>e.stop()),m=null),o.value=!1,g=null,f=[],C("Call ended","disconnected")}return(0,c.sV)(()=>{k(`Receiver mounted ‚Üí UUID: ${t}`),h()}),(0,c.xo)(()=>{S(),a.value&&a.value.close(),k("Receiver unmounted")}),(e,a)=>((0,c.uX)(),(0,c.CE)("div",Y,[a[3]||(a[3]=(0,c.Lk)("h1",null,"WebRTC Video Receiver",-1)),(0,c.Lk)("div",{class:(0,O.C4)(["status",i.value])},(0,O.v_)(s.value),3),(0,c.Lk)("div",B,[(0,c.Lk)("button",{onClick:b,disabled:!l.value||o.value},"Accept Call",8,G),(0,c.Lk)("button",{onClick:S,disabled:!o.value},"Hang Up",8,Z)]),(0,c.Lk)("div",ee,[(0,c.Lk)("div",ae,[a[0]||(a[0]=(0,c.Lk)("h3",null,"Local Video",-1)),(0,c.Lk)("video",{ref_key:"localVideo",ref:d,autoplay:"",muted:"",playsinline:""},null,512)]),(0,c.Lk)("div",te,[a[1]||(a[1]=(0,c.Lk)("h3",null,"Remote Video",-1)),(0,c.Lk)("video",{ref_key:"remoteVideo",ref:u,autoplay:"",playsinline:""},null,512)])]),(0,c.Lk)("div",ne,[a[2]||(a[2]=(0,c.Lk)("h3",null,"Debug Log",-1)),(0,c.Lk)("div",ce,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(r.value,(e,a)=>((0,c.uX)(),(0,c.CE)("div",{key:a},(0,O.v_)(e),1))),128))])])]))}};const le=(0,p.A)(oe,[["__scopeId","data-v-7876a68a"]]);var se=le;const ie=[{path:"/",name:"Home",component:E},{path:"/call",name:"Call",component:z},{path:"/callee",name:"Callee",component:se}],re=(0,C.aE)({history:(0,C.LA)("/nofelet-ui/"),routes:ie});var de=re;console.log("üîß Router instance:",de);const ue=(0,n.Ef)(k);ue.use(de),ue.mount("#app"),console.log("‚úÖ App mounted")}},a={};function t(n){var c=a[n];if(void 0!==c)return c.exports;var o=a[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(a,n,c,o){if(!n){var l=1/0;for(d=0;d<e.length;d++){n=e[d][0],c=e[d][1],o=e[d][2];for(var s=!0,i=0;i<n.length;i++)(!1&o||l>=o)&&Object.keys(t.O).every(function(e){return t.O[e](n[i])})?n.splice(i--,1):(s=!1,o<l&&(l=o));if(s){e.splice(d--,1);var r=c();void 0!==r&&(a=r)}}return a}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,c,o]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,n){var c,o,l=n[0],s=n[1],i=n[2],r=0;if(l.some(function(a){return 0!==e[a]})){for(c in s)t.o(s,c)&&(t.m[c]=s[c]);if(i)var d=i(t)}for(a&&a(n);r<l.length;r++)o=l[r],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},n=self["webpackChunknofelet"]=self["webpackChunknofelet"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],function(){return t(652)});n=t.O(n)})();
//# sourceMappingURL=app.babdf84f.js.map